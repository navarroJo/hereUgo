/*
 * 	hereUgo 1.0 - jQuery plugin
 *	written by Joey Navarro	
 *	http://www.joeynavarro.com
 *
 *	Copyright (c) 2013 Joey Navarro (http://www.joeynavarro.com)
 *	Dual licensed under the MIT (MIT-LICENSE.txt)
 *	and GPL (GPL-LICENSE.txt) licenses.
 *
 *	Built for jQuery library
 *	http://jquery.com
 *
 */
!function(e){e(document).on("click","[data-display]",function(o){o.preventDefault();var n=e(this).attr("data-display");e("#"+n).display(e(this).data())}),e.fn.display=function(o){var n={animation:"fade",animationspeed:200,bgclose:!0};return o=e.extend({},n,o),this.each(function(){function n(){r=!1}function i(){r=!0}var t,s=e(this),r=!1,a=e(".hereUgo-overlay"),c=!1;navigator.userAgent.match(/Windows Phone/i)&&(c=!0),0==a.length&&(a=e('<div class="hereUgo-overlay" />').insertAfter(s)),t="function"==typeof e.fn.slimScroll?!0:!1,0==s.has(".scrollBar").length&&1==t&&(s.wrapInner('<div class="scrollBar" style="padding-right:20px;" />'),s.css({"padding-right":10}),e(function(){e(".scrollBar").slimScroll({height:"100%"})}),s.append('<a class="close-hereUgo">&#215;</a>')),0==s.has(".close-hereUgo").length&&0==t&&s.append('<a class="close-hereUgo">&#215;</a>'),s.center=function(){var o,n;if(s.outerHeight()+25>e(window).height()&&t===!0&&c===!1){var i=e(window).height()-80;s.css({height:i+"px"})}s.css({top:0,left:0}),o=Math.max(e(window).height()-s.outerHeight(),0)/2,n=Math.max(e(window).width()-s.outerWidth(),0)/2,s.css({top:o+e(window).scrollTop(),left:n+e(window).scrollLeft()}),s.innerWidth()+10>=e(window).width()?(s.css({"margin-right":"5px"}),e(".close-hereUgo").css({top:3,right:3})):(s.css({"margin-right":"0px"}),e(".close-hereUgo").css({top:-6,right:-7})),s.outerHeight()>=e(window).height()&&0==t&&s.css({top:20+e(window).scrollTop()})},s.center(),e(window).on("resize.hereUgo",s.center),s.on("hereUgo:open",function(){r||(i(),""==o.animation?(s.css({display:"block"}),a.css({display:"block"}),n()):(a.fadeIn(o.animationspeed),s.show(o.animation,o.animationspeed),n()))}),s.on("hereUgo:close",function(){r||(i(),""==o.animation?(s.css({display:"none"}),a.css({display:"none"}),n()):(a.fadeOut(o.animationspeed),s.fadeOut(o.animationspeed),n()),e(window).off("resize.hereUgo"))}),s.trigger("hereUgo:open");e(".close-hereUgo").one("click.hereUgoEvent",function(){s.trigger("hereUgo:close")});o.bgclose&&(a.css({cursor:"pointer"}),a.one("click.hereUgoEvent",function(){s.trigger("hereUgo:close")})),e("body").keyup(function(e){27===e.which&&s.trigger("hereUgo:close")})})}}(jQuery);
